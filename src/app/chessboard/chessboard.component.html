<div class="chessboard">
  <div *ngFor="let row of boardState; let rowIndex = index">
    <div *ngFor="let cell of row; let colIndex = index"
         class="square"
         [ngClass]="[
           getSquareClass(rowIndex, colIndex),
           selectedSquare === getSquareFromIndices(rowIndex, colIndex) ? 'selected' : ''
         ]"
         (click)="onSquareClick(rowIndex, colIndex)">
      
      <!-- Display the piece as an image if the cell is not empty -->
      <img *ngIf="cell" [src]="getPieceImage(cell)" alt="{{ cell | uppercase }}" />
    </div>
  </div>
</div>

<!-- Controls for Reset, Save, Load, and Start New Game -->
<div class="controls">
  <button (click)="startNewGame()">Start New Game</button>
  <button (click)="resetGame()">Reset Game</button>
  <button (click)="loadGames()">Load Game</button>
  <button (click)="saveGame()">Save Game</button>

  <!-- Error message display -->
  <div *ngIf="invalidMoveMessage" class="error-message">
    {{ invalidMoveMessage }}
  </div>
</div>

<!-- Replay Game Button (optional) -->
<div class="replay-button">
  <button *ngIf="currentGame" (click)="replayGame()">Replay Game</button>
</div>
